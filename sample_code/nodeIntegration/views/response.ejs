<!DOCTYPE html>
<html>
<head>
	<title>Response</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://cdn.jsdelivr.net/gh/NOQOD/payment-gateway-library@vversion-1.1/index.js"></script>
	<style type="text/css">
		.col-md-4{
			border-radius: 40px;
		}
		#info{
			margin-top: 40px;
			margin-bottom: 30px;
			border-radius: 10px;
			border-width: 1px;
			border-style: solid;
			padding-top: 20px;
			padding-bottom: 20px;
			text-align: center;
		}
		.col-md-4{
			text-align: center;
			margin-top: 70px;
		}
		.alert{
			text-align: center
		}
		#display{
			text-align: center;
			border-radius: 10px!important;
		}
		#message{
			padding-top: 30px;
			padding-bottom: 30px;
		}
	</style>
</head>
<body class="container" onload="verify()">
	<div class="row">
	 <div class="col-md-4">
	 	
	 </div>	
	 <div class="col-md-4">
	 	<div class="row">
	 		<div class="col-md-1">
	 			
	 		</div>
	 		<div class="col-md-10" id="info">
	 			<label>Transaction Id :</label>
	 			<span><%= data.transaction_id%></span>
	 		<br/>
	 		<label>Order Id :</label>
	 		<span><%= data.order_id%></span>
	 		</div>
	 		<div class="col-md-1">
	 			
	 		</div>
	 		
	 	</div>
    	<div class="row">
    		<div id="display" >
    		<label id="message"></label>
    	    </div>
    	</div>
	 </div>
	 <div class="col-md-4">
	 	
	 </div>
	</div>
	<script type="text/javascript">
		 	function fetch (id){
		   		var element = document.getElementById(id);
		   		return element
   	     }
   		let merchant_id = "7006911868"// your merchant_id
   		let noqod = npg();
   		let signature = noqod.hashInfo(merchant_id, '<%- data.amount %>' , '<%- data.order_id %>');

       	function verify(){
   		if('<%- data.signature %>' == signature && '<%- data.order %>' == "true"){
   		     var display = fetch('display');
    		 display.classList.add('alert-success');
    		 var message = fetch('message');
    		 message.innerHTML = "PAYMENT SUCCESS";	
   		}
   		else{
   		     var display = fetch('display');
    		 display.classList.add('alert-danger');
    	 	 var message = fetch('message');
    		 message.innerHTML = "PAYMENT FAILED";
   		}
   		   	}
   </script>
</body>
</html>